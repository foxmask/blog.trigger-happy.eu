<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Trigger Happy To Wallabag - Trigger Happy</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="twitter:widgets:csp" content="on">



<link rel="canonical" href="https://blog.trigger-happy.eu/trigger-happy-to-wallabag.html">

        <meta name="author" content="FoxMaSk" />
        <meta name="keywords" content="wallabag" />
        <meta name="description" content="As you may already know, TriggerHappy is able to propagate data from any source of data to any service that consumes that data. Since several weeks now, I see a lot of tweets of people asking to the team of wallabag how to feed its wallabag instance, and the team …" />

        <meta property="og:site_name" content="Trigger Happy" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Trigger Happy To Wallabag"/>
        <meta property="og:url" content="https://blog.trigger-happy.eu/trigger-happy-to-wallabag.html"/>
        <meta property="og:description" content="As you may already know, TriggerHappy is able to propagate data from any source of data to any service that consumes that data. Since several weeks now, I see a lot of tweets of people asking to the team of wallabag how to feed its wallabag instance, and the team …"/>
        <meta property="article:published_time" content="2016-12-05" />
            <meta property="article:section" content="News" />
            <meta property="article:tag" content="wallabag" />
            <meta property="article:author" content="FoxMaSk" />

    <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="@triggerhappyeu">
        <meta name="twitter:creator" content="@triggerhappyeu">
    <meta name="twitter:domain" content="https://blog.trigger-happy.eu">

    <!-- Bootstrap -->
        <link rel="stylesheet" href="https://blog.trigger-happy.eu/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="https://blog.trigger-happy.eu/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="https://blog.trigger-happy.eu/theme/css/pygments/native.css" rel="stylesheet">
    <link href="https://blog.trigger-happy.eu/theme/tipuesearch/tipuesearch.css" rel="stylesheet">
    <link rel="stylesheet" href="https://blog.trigger-happy.eu/theme/css/style.css" type="text/css"/>

        <link href="https://blog.trigger-happy.eu/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Trigger Happy ATOM Feed"/>

        <link href="https://blog.trigger-happy.eu/feeds/all.rss.xml" type="application/rss+xml" rel="alternate"
              title="Trigger Happy RSS Feed"/>


        <link href="https://blog.trigger-happy.eu/feeds/news.atom.xml" type="application/atom+xml" rel="alternate"
              title="Trigger Happy News ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="https://blog.trigger-happy.eu/" class="navbar-brand">
Trigger Happy            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="https://blog.trigger-happy.eu/pages/contact">
                             Contact
                          </a></li>
                         <li><a href="https://blog.trigger-happy.eu/pages/developpers">
                             Developpers
                          </a></li>
                         <li><a href="https://blog.trigger-happy.eu/pages/informations">
                             Informations
                          </a></li>
                         <li><a href="https://blog.trigger-happy.eu/pages/introduction">
                             Introduction
                          </a></li>
                        <li class="active">
                            <a href="https://blog.trigger-happy.eu/category/news.html">News</a>
                        </li>
                        <li >
                            <a href="https://blog.trigger-happy.eu/category/techno.html">Techno</a>
                        </li>
                        <li >
                            <a href="https://blog.trigger-happy.eu/category/tutorial.html">Tutorial</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><span>
                <form class="navbar-search" action="search.html">
                  <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input" required>
                </form></span>
              </li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="https://blog.trigger-happy.eu/trigger-happy-to-wallabag.html"
                       rel="bookmark"
                       title="Permalink to Trigger Happy To Wallabag">
                        Trigger Happy To Wallabag
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2016-12-05T22:00:00+01:00"> Mon 05 December 2016</time>
    </span>





<span class="label label-default">Tags</span>
	<a href="https://blog.trigger-happy.eu/tag/wallabag.html">wallabag</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>As you may already know, TriggerHappy is able to propagate data from any source of data to any service that consumes that data.</p>
<p>Since several weeks now, I see a lot of tweets of people asking to the team of wallabag how to feed its wallabag instance,
and the team replying "we don't do that but external services exist to do the job like TriggerHappy".</p>
<p>Last recent example (in French)</p>
<blockquote class="twitter-tweet" data-lang="fr"><p lang="fr" dir="ltr"><a href="https://twitter.com/sylv_in">@sylv_in</a> Bonjour. Aujourd&#39;hui ça n&#39;est pas possible avec IFTTT pour nous. Mais vous pouvez utiliser <a href="https://t.co/x4VpdmBBkG">https://t.co/x4VpdmBBkG</a> de <a href="https://twitter.com/foxxmask">@foxxmask</a>.</p>&mdash; wallabag (@wallabagapp) <a href="https://twitter.com/wallabagapp/status/804286336471597056">1 décembre 2016</a></blockquote>

<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>On my side, I thought of a solution since a lot of time, making a dedicated version of TriggerHappy for Wallabag
Something very very very light.</p>
<p>So this week-end during the night of saturday, I made <a href="https://github.com/foxmask/th2w">TriggerHappy To Wallabag</a> (th2w).
I used the same them of Wallabag, thus you will not be lost with the UI (at least I hope:)</p>
<p>This project just does 2 things : </p>
<ul>
<li>Grabbing data from RSS/Atom Feeds</li>
<li>Pushing the data to a Wallabag instance.</li>
</ul>
<h1>Introduction</h1>
<p>As it's a python project, I'm sorry for PHP fan but if you don't enjoy that language, continue the path somewhere else :)
So, I will detail the way to install from scratch :</p>
<ul>
<li>creating a virtualenv</li>
<li>cloning the source code</li>
<li>settings the database</li>
<li>starting the project</li>
<li>Recursives jobs</li>
<li>Creating a new trigger</li>
<li>Running read and publish commands</li>
</ul>
<h1>Creating a virtualenv</h1>
<p>We will say we start from scratch from <code>/home/foxmask/</code></p>
<div class="highlight"><pre><span></span>virtualenv --pytyhon<span class="o">=</span>/usr/bin/python35 my_th2w
<span class="nb">cd</span> <span class="nv">$_</span>
<span class="nb">source</span> bin/activate
</pre></div>


<h1>Cloning the source code</h1>
<p>get the sources from the github repository :</p>
<div class="highlight"><pre><span></span>git clone https://github.com/foxmask/th2w.git
</pre></div>


<p>then install the dependencies :</p>
<div class="highlight"><pre><span></span>pip install -r requirements.txt
</pre></div>


<h1>Settings the database</h1>
<div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">manage</span><span class="o">.</span><span class="n">py</span> <span class="n">migrate</span>           <span class="c1"># this will create a Sqlite3 database</span>
<span class="n">python</span> <span class="n">manage</span><span class="o">.</span><span class="n">py</span> <span class="n">createsuperuser</span>   <span class="c1"># and reply to the questions</span>
</pre></div>


<p>for example</p>
<div class="highlight"><pre><span></span><span class="n">Username</span> <span class="p">(</span><span class="n">leave</span> <span class="n">blank</span> <span class="n">to</span> <span class="n">use</span> <span class="s1">&#39;foxmask&#39;</span><span class="p">):</span> 
<span class="n">Email</span> <span class="n">address</span><span class="p">:</span> <span class="n">toto</span><span class="nd">@tata.com</span>
<span class="n">Password</span><span class="p">:</span> 
<span class="n">Password</span> <span class="p">(</span><span class="n">again</span><span class="p">):</span> 
<span class="n">Superuser</span> <span class="n">created</span> <span class="n">successfully</span><span class="o">.</span>
</pre></div>


<h1>Settings your Wallabag instance</h1>
<p>in the <code>th2w/settings.py</code> file, set the parameters that fit your needs :</p>
<div class="highlight"><pre><span></span><span class="n">WALLABAG_SECRET</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;username&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;password&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;client_id&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;client_secret&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;host&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>  <span class="c1"># url without the final / eg http://foo.com not http://foo.com/</span>
<span class="p">}</span>
</pre></div>


<p>Check that the variable <code>DEBUG</code> is set to <code>False</code> at the beginning of this file.</p>
<h1>Starting the project</h1>
<div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">manage</span><span class="o">.</span><span class="n">py</span> <span class="n">runserver</span>
</pre></div>


<p>Now you can open your browser and go to http://127.0.0.1:8000/ to start using the application</p>
<h1>Recursives jobs</h1>
<p>the 2 commands to execute, manually:</p>
<div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">manage</span><span class="o">.</span><span class="n">py</span> <span class="n">read</span>
<span class="n">python</span> <span class="n">manage</span><span class="o">.</span><span class="n">py</span> <span class="n">publish</span>
</pre></div>


<p>or from the crontab:</p>
<div class="highlight"><pre><span></span><span class="m">10</span>,25,41,55 * * * * . /home/foxmask/my_th2w/bin/activate <span class="o">&amp;&amp;</span> <span class="nb">cd</span> /home/foxmask/my_th2w/th2w/ <span class="o">&amp;&amp;</span> ./manage.py <span class="nb">read</span> 
*/15 * * * * . /home/foxmask/my_th2w/bin/activate <span class="o">&amp;&amp;</span> <span class="nb">cd</span> /home/foxmask/my_th2w/th2w/ <span class="o">&amp;&amp;</span> ./manage.py publish
</pre></div>


<h1>Creating a new trigger</h1>
<h2>Connection</h2>
<p><img alt="login" src="https://blog.trigger-happy.eu/static/th2w_login.png"></p>
<h2>Create the trigger</h2>
<p>Empty list</p>
<p><img alt="empty list of triggers" src="https://blog.trigger-happy.eu/static/th2w_list.png"></p>
<p>Creation</p>
<p><img alt="Creation of a trigger" src="https://blog.trigger-happy.eu/static/th2w_create_trigger.png"></p>
<p>List of triggers</p>
<p><img alt="list of triggers" src="https://blog.trigger-happy.eu/static/th2w_list2.png"></p>
<h1>Running read and publish commands</h1>
<div class="highlight"><pre><span></span>foxmask@localhost$ ./manage.py <span class="nb">read</span>
INFO foxmask - FoxMaSk Blog - <span class="m">2</span> new data
foxmask@localhost$ ./manage.py publish
INFO foxmask - FoxMaSk Blog - <span class="m">2</span> new data
</pre></div>


<p>Content before
<img alt="list of triggers" src="https://blog.trigger-happy.eu/static/wallabag_instance_before.png"></p>
<p>Content after
<img alt="list of triggers" src="https://blog.trigger-happy.eu/static/wallabag_instance_after.png"></p>
<h1>The final word</h1>
<p>Now, if the complete project TriggerHappy was too much for your needs, just have fun with this one ;)</p>
            </div>
            <!-- /.entry-content -->
<section class="well" id="related-posts">
    <h4>Related Posts:</h4>
    <ul>
        <li><a href="https://blog.trigger-happy.eu/django-trigger-happy-0.13.2.html">Django Trigger Happy 0.13.2</a></li>
    </ul>
</section>
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'blogtriggerhappyeu'; // required: replace example with your forum shortname

                    var disqus_identifier = 'trigger-happy-to-wallabag';
                var disqus_url = 'https://blog.trigger-happy.eu/trigger-happy-to-wallabag.html';

            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<!-- Sidebar -->
<section class="well well-sm">
  <ul class="list-group list-group-flush">

<!-- Sidebar/Twitter Timeline -->
<li class="list-group-item">
  <h4><i class="fa fa-twitter fa-lg"></i><span class="icon-label">Latest Tweets</span></h4>
  <div id="twitter_timeline">
    <a class="twitter-timeline" data-width="250" data-height="300" data-dnt="true" data-theme="light" href="https://twitter.com/triggerhappyeu">Tweets by triggerhappyeu</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  </div>
</li>
<!-- End Sidebar/Twitter Timeline -->
<!-- Sidebar/Say Thanks -->
<li class="list-group-item">
  <div id="SAY_THANKS">
    <a href="https://saythanks.io/to/foxmask"><img alt="Say thanks to foxmask" src="https://img.shields.io/badge/SayThanks.io-%E2%98%BC-1EAEDB.svg"style="max-width:100%;"></a>
  </div>
</li>
<!-- End Sidebar/Say Thanks -->
<!-- Sidebar/Links -->
<li class="list-group-item">
  <h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
  <ul class="list-group" id="links">
    <li class="list-group-item">
      <a href="https://trigger-happy.eu" target="_blank">Trigger Happy Website</a>
    </li>
    <li class="list-group-item">
      <a href="http://trigger-happy.readthedocs.org/" target="_blank">Documentation</a>
    </li>
    <li class="list-group-item">
      <a href="https://blog.trigger-happy.eu/feeds/all.rss.xml" target="_blank">RSS</a>
    </li>
    <li class="list-group-item">
      <a href="https://blog.trigger-happy.eu/feeds/all.atom.xml" target="_blank">Atom</a>
    </li>
    <li class="list-group-item">
      <a href="https://github.com/foxmask/django-th" target="_blank">Source Code</a>
    </li>
    <li class="list-group-item">
      <a href="https://alternativeto.net/software/trigger-happy/" target="_blank">Compare Trigger Happy</a>
    </li>
    <li class="list-group-item">
      <a href="https://foxmask.trigger-happy.eu" target="_blank">Author's Blog Posts</a>
    </li>
    <li class="list-group-item">
      <a href="https://blog.trigger-happy.eu/stats.html" target="_blank">Stats</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Links -->
  </ul>
</section>
<!-- End Sidebar -->            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2017 FoxMaSk
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>              <p><small>Unless otherwise stated, all articles are published under the <a href="http://www.wtfpl.net/about/">WTFPL</a> license.</small></p>
         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="https://blog.trigger-happy.eu/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="https://blog.trigger-happy.eu/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="https://blog.trigger-happy.eu/theme/js/respond.min.js"></script>

    <script src="https://blog.trigger-happy.eu/theme/js/bodypadding.js"></script>
    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'blogtriggerhappyeu'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->


</body>
</html>